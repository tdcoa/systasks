description: >
  Generate volatile tables for other misc. decode mapping tables, mostly around
  various database object types, such as column data types, tablekind, index
  types, etc.   Also exports sample files, if you want to use for future
  customization (see help for more details).
version: 1
### ============= STANDARD PRE-PROCESSING =============
# SETUP run context, and skip duplicate CREATE vt_* statements :
{% set run = namespace(completed=[], dates=[]) if run is not defined else run %}
### import macro to harden start/end dates:
{% import "coa_util.j2" as macro with context %}
{{ macro.harden_dates(run, startdate, enddate) }}
{% set startdate = run.dates[0] %}
{% set enddate = run.dates[1] %}
### ============= STANDARD PRE-PROCESSING =============

tasks:

{% include "vt_decode_columntype.j2" %}

- name: Export vt_decode_columntype with all data
  connect: source
  export:
    file: decode_columntype.csv
    sql:  Select * from vt_decode_columntype order by 1


{% include "vt_decode_tablekind.j2" %}

- name: Export vt_decode_tablekind with all data
  connect: source
  export:
    file: decode_tablekind.csv
    sql:  Select * from vt_decode_tablekind order by 1


{% include "vt_decode_indextype.j2" %}

- name: Export vt_decode_indextype with all data
  connect: source
  export:
    file: decode_indextype.csv
    sql: |
      Select * from vt_decode_indextype
