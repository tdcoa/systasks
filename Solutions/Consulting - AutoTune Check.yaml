description: Evaluate a Teradata system on whether the AutoTune Consulting effort would be a good value.
version: 1
### ============= STANDARD PRE-PROCESSING =============
# SETUP run context, and skip duplicate CREATE vt_* statements :
{% set run = namespace(completed=[], dates=[]) if run is not defined else run %}
### import macro to harden start/end dates:
{% import "coa_util.j2" as macro with context %}
{{ macro.harden_dates(run, startdate, enddate) }}
{% set startdate = run.dates[0] %}
{% set enddate = run.dates[1] %}
### ============= STANDARD PRE-PROCESSING =============

tasks:

{% include "vt_site_info.j2" %}
{% include "vt_decode_tdbinternal.j2" %}

- name: Export basic information for TD Author
  connect: source
  export:
    file: intro.csv
    sql: Select * from vt_site_info

- name: Export data to csv
  connect: source
  export:
    file: dat_autotune.csv
    sqlfile: sql/AutoTune_Query.sql

- name: PPTx final build for AutoTune_Check deck
  ppt:
    file: ppt/Vantage AutoTune TCA Check Deck.pptx
